<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<refentry>
  <refmeta>
    <refentrytitle>shorewall6-notrack</refentrytitle>

    <manvolnum>5</manvolnum>
  </refmeta>

  <refnamediv>
    <refname>notrack</refname>

    <refpurpose>shorewall notrack file</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis>
      <command>/etc/shorewall/notrack</command>
    </cmdsynopsis>
  </refsynopsisdiv>

  <refsect1>
    <title>Description</title>

    <para>The notrack file is used to exempt certain traffic from Netfilter
    connection tracking. Traffic matching entries in this file will not be
    tracked.</para>

    <para>The columns in the file are as follows (where the column name is
    followed by a different name in parentheses, the different name is used in
    the alternate specification syntax).</para>

    <variablelist>
      <varlistentry>
        <term>SOURCE ‒
        {<emphasis>zone</emphasis>[:<emphasis>interface</emphasis>][:<emphasis>address-list</emphasis>]|COMMENT}</term>

        <listitem>
          <para>where <replaceable>zone</replaceable> is the name of a zone,
          <replaceable>interface</replaceable> is an interface to that zone,
          and <replaceable>address-list</replaceable> is a comma-separated
          list of addresses (may contain exclusion - see <ulink
          url="shorewall-exclusion.html">shorewall-exclusion</ulink>
          (5)).</para>

          <para>Comments may be attached to Netfilter rules generated from
          entries in this file through the use of COMMENT lines. These lines
          begin with the word COMMENT; the remainder of the line is treated as
          a comment which is attached to subsequent rules until another
          COMMENT line is found or until the end of the file is reached. To
          stop adding comments to rules, use a line with only the word
          COMMENT.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>DEST ‒
        [<replaceable>interface</replaceable>|<replaceable>address-list</replaceable>]</term>

        <listitem>
          <para>where <replaceable>interface</replaceable> is the name of a
          network interface and <replaceable>address-list</replaceable> is a
          comma-separated list of addresses (may contain exclusion - see
          <ulink url="shorewall-exclusion.html">shorewall-exclusion</ulink>
          (5)). If an interface is given:</para>

          <itemizedlist>
            <listitem>
              <para>It must be up and configured with an IPv4 address when
              Shorewall is started or restarted.</para>
            </listitem>

            <listitem>
              <para>All routes out of the interface must be configured when
              Shorewall is started or restarted.</para>
            </listitem>

            <listitem>
              <para>Default routes out of the interface will result in a
              warning message and will be ignored.</para>
            </listitem>
          </itemizedlist>

          <para>These restrictions are because Netfilter doesn't support
          NOTRACK rules that specify a destination interface (these rules are
          applied before packets are routed and hence the destination
          interface is unknown). Shorewall uses the routes out of the
          interface to replace the interface with an address list
          corresponding to the networks routed out of the named
          interface.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>PROTO ‒
        <replaceable>protocol-name-or-number</replaceable></term>

        <listitem>
          <para>A protocol name from <filename>/etc/protocols</filename> or a
          protocol number.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>DEST PORT(S) (dport) - port-number/service-name-list</term>

        <listitem>
          <para>A comma-separated list of port numbers and/or service names
          from <filename>/etc/services</filename>. May also include port
          ranges of the form
          <replaceable>low-port</replaceable>:<replaceable>high-port</replaceable>
          if your kernel and iptables include port range support.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>SOURCE PORT(S) (sport) - port-number/service-name-list</term>

        <listitem>
          <para>A comma-separated list of port numbers and/or service names
          from <filename>/etc/services</filename>. May also include port
          ranges of the form
          <replaceable>low-port</replaceable>:<replaceable>high-port</replaceable>
          if your kernel and iptables include port range support.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>USER/GROUP (user) ‒
        [<replaceable>user</replaceable>][:<replaceable>group</replaceable>]</term>

        <listitem>
          <para>May only be specified if the SOURCE
          <replaceable>zone</replaceable> is $FW. Specifies the effective user
          id and or group id of the process sending the traffic.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>

  <refsect1>
    <title>FILES</title>

    <para>/etc/shorewall/notrack</para>
  </refsect1>

  <refsect1>
    <title>See ALSO</title>

    <para><ulink
    url="http://shorewall.net/configuration_file_basics.htm#Pairs">http://shorewall.net/configuration_file_basics.htm#Pairs</ulink></para>

    <para>shorewall(8), shorewall-accounting(5), shorewall-actions(5),
    shorewall-blacklist(5), shorewall-hosts(5), shorewall_interfaces(5),
    shorewall-ipsets(5), shorewall-masq(5), shorewall-nat(5),
    shorewall-netmap(5), shorewall-params(5), shorewall-policy(5),
    shorewall-providers(5), shorewall-proxyarp(5), shorewall-route_rules(5),
    shorewall-routestopped(5), shorewall-rules(5), shorewall.conf(5),
    shorewall-secmarks(5), shorewall-tcclasses(5), shorewall-tcdevices(5),
    shorewall-tcrules(5), shorewall-tos(5), shorewall-tunnels(5),
    shorewall-zones(5)</para>
  </refsect1>
</refentry>
